
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Optimizer tutorial &#8212; optimizer 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="optimizer Package" href="optimizer.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="optimizer.html" title="optimizer Package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">optimizer 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="optimizer-tutorial">
<h1>Optimizer tutorial<a class="headerlink" href="#optimizer-tutorial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="layer-1">
<h2>Layer 1<a class="headerlink" href="#layer-1" title="Permalink to this headline">¶</a></h2>
<p>After the program started, the first layer will appear where the user can select the file containing the
input trace(s). The user must specify the path to this file, and the working directory (base directory)
where the outputs will be written. Apart from these the user must input the requested parameters of the
trace set he/she wants to use. After loading the selected file, the user can check if the traces were loaded
properly with the help of a plot which displays all the traces concatenated and with the help of a tree
display. The concatenation only performed for displaying purposes, the traces are otherwise handled
separately. The program only handles one input file (loading a new file will overwrite the existing one),
but with arbitrary number of traces.</p>
<div class="figure align-center">
<img alt="_images/um001.png" src="_images/um001.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>Path to input data.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Browse the location of the input data.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Input contains time or not.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Type of input (voltage or current trace).</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>Path to base directory (resulting files will be
stored here).</p></td>
</tr>
<tr class="row-even"><td><p>F</p></td>
<td><p>Browse the base location.</p></td>
</tr>
<tr class="row-odd"><td><p>G</p></td>
<td><p>Number of traces in file (trace set).</p></td>
</tr>
<tr class="row-even"><td><p>H</p></td>
<td><p>Units of the data.</p></td>
</tr>
<tr class="row-odd"><td><p>I</p></td>
<td><p>Length of trace(s). (in case of multiple traces, they
must have the same length)</p></td>
</tr>
<tr class="row-even"><td><p>J</p></td>
<td><p>Sampling frequency (in case of multiple traces,
they must have the same).</p></td>
</tr>
<tr class="row-odd"><td><p>K</p></td>
<td><p>Loads the trace(s) from the given file.</p></td>
</tr>
<tr class="row-even"><td><p>L</p></td>
<td><p>Displays the loaded trace (if given file contains
more, the trace will be concatenated for
displaying).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="layer-2">
<h2>Layer 2<a class="headerlink" href="#layer-2" title="Permalink to this headline">¶</a></h2>
<p>On the second layer the user can specify the simulator which can be Neuron or external.
If the user decided to use Neuron as the simulator then the model file must contain only the necessary
structure and mechanisms. The model can be loaded simply after selecting the model file and the
special folder where the necessary .mod files are located (optional).
As Neuron can not load it’s .dlls after startup, if the special files were not found, the software must be
restarted. Once the model is loaded successfully, the content of the model will be displayed, and the
user can select the parameters by picking them int the list and pressing the “set” button. Removing a
parameter is done in a similar fashion.
At this point the user can load or define a special function which carries out different tasks during the
optimization.</p>
<div class="figure align-center">
<img alt="_images/um003.png" src="_images/um003.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 99%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>Path to model file.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Browser for model file.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Loads the specified model.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Simulator type selection (Neuron or external)</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>Path to special files (the compiled mod files for
Neuron), this should point to a folder, which
contains the folder of the compiled files (e.g.: to a
folder which has an x86-64 directory)</p></td>
</tr>
<tr class="row-even"><td><p>F</p></td>
<td><p>Browser for special file location.</p></td>
</tr>
<tr class="row-odd"><td><p>G</p></td>
<td><p>Here you can give the command which invokes
the external simulator. The given command must
consists of the following:
- the command that calls the simulator
- the name of the model
- options to the simulator (optional)
- as the last parameter, the number of parameters subject to optimization</p></td>
</tr>
<tr class="row-even"><td><p>H</p></td>
<td><p>Displays the recognized parameters. These can be
selected for optimization. If the parameters you
need, are missing, you can create a user defined
function.</p></td>
</tr>
<tr class="row-odd"><td><p>I</p></td>
<td><p>Opens the window to define/load your own
function for the optimization.</p></td>
</tr>
<tr class="row-even"><td><p>J</p></td>
<td><p>Adds the currently selected parameter to the list of
parameters subject to optimization.</p></td>
</tr>
<tr class="row-odd"><td><p>K</p></td>
<td><p>Removes the parameter from the aforementioned list.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="layer-3">
<h2>Layer 3<a class="headerlink" href="#layer-3" title="Permalink to this headline">¶</a></h2>
<p>On the second layer the user can specify the simulator which can be Neuron or external.
If the user decided to use Neuron as the simulator then the model file must contain only the necessary
structure and mechanisms. The model can be loaded simply after selecting the model file and the
special folder where the necessary .mod files are located (optional).
As Neuron can not load it’s .dlls after startup, if the special files were not found, the software must be
restarted. Once the model is loaded successfully, the content of the model will be displayed, and the
user can select the parameters by picking them int the list and pressing the “set” button. Removing a
parameter is done in a similar fashion.
As mentioned earlier the functionality of the GUI can be extended by the usage of external files.
At this point the user can load or define a special function which carries out different tasks during the
optimization.
On the next layer the settings regarding stimulation and simulation can be made. The user can select the
stimulation protocol which can be either current clamp or voltage clamp (the voltage clamp is
implemented as a SEClamp from Neuron). The stimulus type also can be selected, either step protocol
or custom waveform. If the step protocol is selected the properties of the step can be specified. In case
of multiple stimuli, only the amplitude of the stimuli can vary, no other parameter (position of stimulus,
duration, delay, etc) can be changed. Via the GUI the user can specify up to ten stimuli amplitude.
The user can make use of external files here as well by selecting the custom waveform as stimulus
type. After the stimulation parameters are selected, the user must chose a section and a position inside
that section to stimulate the model.
In the second column the parameters regarding the simulation and the recording process can be given.
The user must give an initial voltage parameter, the length of the simulation and the integration step
used for calculations (variable time step methods are not supported yet). After these settings are done,
the user can select the parameter to be measured (either current or voltage), the section and the position
where the measurement takes place.</p>
<div class="figure align-center">
<img alt="_images/um006.png" src="_images/um006.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>Stimulation protocol (Vclamp or Iclamp).</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Type of the stimulus (Step protocol or Custom
Waveform).</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Opens the window for specifying step amplitudes
or loading custom waveform (depending on the</p></td>
</tr>
<tr class="row-even"><td><p>p</p></td>
<td><p>revious options).</p></td>
</tr>
<tr class="row-odd"><td><p>D</p></td>
<td><p>Delay of stimulus onset.</p></td>
</tr>
<tr class="row-even"><td><p>E</p></td>
<td><p>Duration of stimulus.</p></td>
</tr>
<tr class="row-odd"><td><p>F</p></td>
<td><p>Section which receives stimulus.</p></td>
</tr>
<tr class="row-even"><td><p>G</p></td>
<td><p>Point of stimulation inside the section.</p></td>
</tr>
<tr class="row-odd"><td><p>H</p></td>
<td><p>The parameter to be recorded.</p></td>
</tr>
<tr class="row-even"><td><p>I</p></td>
<td><p>The section where the recordings takes place.</p></td>
</tr>
<tr class="row-odd"><td><p>J</p></td>
<td><p>Position inside the recording section.</p></td>
</tr>
<tr class="row-even"><td><p>K</p></td>
<td><p>Initial membrane potential.</p></td>
</tr>
<tr class="row-odd"><td><p>L</p></td>
<td><p>Length of the recording.</p></td>
</tr>
<tr class="row-even"><td><p>M</p></td>
<td><p>Integration step size.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="layer-4">
<h2>Layer 4<a class="headerlink" href="#layer-4" title="Permalink to this headline">¶</a></h2>
<p>On the next layer the combination of fitness functions can be selected with the desired weights.
Optimizer offers weight normalization with the press of a button, but not normalized values are
acceptable as well. The user can fine tune the behavior of the functions by giving parameters to them
(the value of the same parameter should be the same across the functions).</p>
<div class="figure align-center">
<img alt="_images/um008.png" src="_images/um008.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>List of available fitness function.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Weight assigned to the selected function.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Parameters passed to the fitness functions.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Normalizes the weights (not necessary).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="layer-5">
<h2>Layer 5<a class="headerlink" href="#layer-5" title="Permalink to this headline">¶</a></h2>
<p>On the next layer, the user can select the desired algorithm from the current list and tune the parameters
of it. Since optimizing neuron models is a bounded optimization problem the program requires
boundaries for the parameters. The user can give a set of values as starting points to the algorithm
which will be interpreted differently, depending on the used algorithm. In the case of the global
algorithms the given set of values will be included in the initial set of parameters. In the case of the
local algorithms the algorithm will start form the point specified by the parameters.</p>
<div class="figure align-center">
<img alt="_images/um009.png" src="_images/um009.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>Seed for the random generator.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Selected algorithm.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Boundaries of the parameters subject to
optimization.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Starting points</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>Run the optimization.</p></td>
</tr>
<tr class="row-even"><td><p>F</p></td>
<td><p>Depending on the selected algorithm, different
settings will appear here.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="layer-6">
<h2>Layer 6<a class="headerlink" href="#layer-6" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<img alt="_images/um011.png" src="_images/um011.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>The resulting parameters.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>The trace(s) obtained with the resulting
parameters.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="layer-7">
<h2>Layer 7<a class="headerlink" href="#layer-7" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<img alt="_images/um012.png" src="_images/um012.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 99%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>The obtained parameters.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Fitness statistics (only in case of inspyred
algorithms: Classical EO, SA)</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Fitness components: name of fitness function; fitness value;calculated by the function; weight assigned to the function; the weighted fitness value; the resulting cumulated fitness value.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Displays the “state” of the population during the
evolution. (only for inspyred algorithms)</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>Displays the given proximity of the optimum.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="other-windows-and-layers">
<h2>Other windows and layers<a class="headerlink" href="#other-windows-and-layers" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<img alt="_images/um014.png" src="_images/um014.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>Entry field for function definition.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Load a previously defined function from a txt.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Done editing, save function and continue.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Discard function and go back.</p></td>
</tr>
</tbody>
</table>
<div class="figure align-center">
<img alt="_images/um015.png" src="_images/um015.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>Number of stimuli.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Create the specified number of stimuli.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Specify the amplitude of the stimuli.</p></td>
</tr>
</tbody>
</table>
<div class="figure align-center">
<img alt="_images/um016.png" src="_images/um016.png" />
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>The list of selected parameters.</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>Lower bounds.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Upper bounds.</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Load boundaries from file.</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>Boundaries are set, continue.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Optimizer tutorial</a><ul>
<li><a class="reference internal" href="#layer-1">Layer 1</a></li>
<li><a class="reference internal" href="#layer-2">Layer 2</a></li>
<li><a class="reference internal" href="#layer-3">Layer 3</a></li>
<li><a class="reference internal" href="#layer-4">Layer 4</a></li>
<li><a class="reference internal" href="#layer-5">Layer 5</a></li>
<li><a class="reference internal" href="#layer-6">Layer 6</a></li>
<li><a class="reference internal" href="#layer-7">Layer 7</a></li>
<li><a class="reference internal" href="#other-windows-and-layers">Other windows and layers</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="optimizer.html"
                        title="next chapter">optimizer Package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="optimizer.html" title="optimizer Package"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">optimizer 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, Szabolcs Káli, Péter Friedrich, Mike Vella.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
  </body>
</html>